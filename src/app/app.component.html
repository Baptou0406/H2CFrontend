<mat-drawer-container class="sidenav-container">
  <!-- Menu latéral - uniquement visible si connecté -->
  <mat-drawer #drawer mode="side" [opened]="loginService.isAuthenticated()">
    <mat-toolbar>Menu</mat-toolbar>
    <mat-nav-list *ngIf="loginService.isAuthenticated()">
      <mat-list-item routerLink="/logement" (click)="closeDrawer()">Logement</mat-list-item>
      <mat-list-item routerLink="/reservation" (click)="closeDrawer()">Réservation</mat-list-item>
      <mat-list-item routerLink="/consommable" (click)="closeDrawer()">Consommable</mat-list-item>
      <mat-list-item routerLink="/intervention" (click)="closeDrawer()">Intervention</mat-list-item>
      <mat-list-item routerLink="/facture" (click)="closeDrawer()">Facture</mat-list-item>
      <mat-list-item (click)="logout(); closeDrawer()">Déconnexion</mat-list-item>
    </mat-nav-list>
  </mat-drawer>
  
  <mat-drawer-content>
    <mat-toolbar color="primary">
      <!-- Bouton pour ouvrir le menu - uniquement visible si connecté -->
      <button *ngIf="loginService.isAuthenticated()" mat-icon-button (click)="toggleDrawer()">
        <mat-icon>menu</mat-icon>
      </button>
      <span>H2C Facturation</span>
      
      <!-- Espace flexible -->
      <span style="flex: 1 1 auto;"></span>
      
      <!-- Bouton de déconnexion - uniquement visible si connecté -->
    </mat-toolbar>
    
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </mat-drawer-content>
</mat-drawer-container>